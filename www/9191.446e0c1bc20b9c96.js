"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9191],{2726:(te,M,f)=>{f.d(M,{Sd:()=>L,Uw:()=>D,dV:()=>U,fo:()=>W});var u=f(5861);typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"&&global;var r=function(n){return n.Unimplemented="UNIMPLEMENTED",n.Unavailable="UNAVAILABLE",n}(r||{});class j extends Error{constructor(e,t,s){super(e),this.message=e,this.code=t,this.data=s}}const J=n=>{var e,t,s,c,i;const m=n.CapacitorCustomPlatform||null,l=n.Capacitor||{},P=l.Plugins=l.Plugins||{},g=n.CapacitorPlatforms,k=(null===(e=null==g?void 0:g.currentPlatform)||void 0===e?void 0:e.getPlatform)||(()=>null!==m?m.name:(n=>{var e,t;return null!=n&&n.androidBridge?"android":null!==(t=null===(e=null==n?void 0:n.webkit)||void 0===e?void 0:e.messageHandlers)&&void 0!==t&&t.bridge?"ios":"web"})(n)),de=(null===(t=null==g?void 0:g.currentPlatform)||void 0===t?void 0:t.isNativePlatform)||(()=>"web"!==k()),fe=(null===(s=null==g?void 0:g.currentPlatform)||void 0===s?void 0:s.isPluginAvailable)||(p=>{const h=X.get(p);return!!(null!=h&&h.platforms.has(k())||se(p))}),se=(null===(c=null==g?void 0:g.currentPlatform)||void 0===c?void 0:c.getPluginHeader)||(p=>{var h;return null===(h=l.PluginHeaders)||void 0===h?void 0:h.find(F=>F.name===p)}),X=new Map,he=(null===(i=null==g?void 0:g.currentPlatform)||void 0===i?void 0:i.registerPlugin)||((p,h={})=>{const F=X.get(p);if(F)return console.warn(`Capacitor plugin "${p}" already registered. Cannot register plugins twice.`),F.proxy;const H=k(),V=se(p);let Z;const Pe=function(){var y=(0,u.Z)(function*(){return!Z&&H in h?Z=Z="function"==typeof h[H]?yield h[H]():h[H]:null!==m&&!Z&&"web"in h&&(Z=Z="function"==typeof h.web?yield h.web():h.web),Z});return function(){return y.apply(this,arguments)}}(),q=y=>{let O;const R=(..._)=>{const A=Pe().then(x=>{const S=((y,O)=>{var R,_;if(!V){if(y)return null===(_=y[O])||void 0===_?void 0:_.bind(y);throw new j(`"${p}" plugin is not implemented on ${H}`,r.Unimplemented)}{const A=null==V?void 0:V.methods.find(x=>O===x.name);if(A)return"promise"===A.rtype?x=>l.nativePromise(p,O.toString(),x):(x,S)=>l.nativeCallback(p,O.toString(),x,S);if(y)return null===(R=y[O])||void 0===R?void 0:R.bind(y)}})(x,y);if(S){const Y=S(..._);return O=null==Y?void 0:Y.remove,Y}throw new j(`"${p}.${y}()" is not implemented on ${H}`,r.Unimplemented)});return"addListener"===y&&(A.remove=(0,u.Z)(function*(){return O()})),A};return R.toString=()=>`${y.toString()}() { [capacitor code] }`,Object.defineProperty(R,"name",{value:y,writable:!1,configurable:!1}),R},ae=q("addListener"),le=q("removeListener"),be=(y,O)=>{const R=ae({eventName:y},O),_=function(){var x=(0,u.Z)(function*(){const S=yield R;le({eventName:y,callbackId:S},O)});return function(){return x.apply(this,arguments)}}(),A=new Promise(x=>R.then(()=>x({remove:_})));return A.remove=(0,u.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield _()}),A},ee=new Proxy({},{get(y,O){switch(O){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return V?be:ae;case"removeListener":return le;default:return q(O)}}});return P[p]=ee,X.set(p,{name:p,proxy:ee,platforms:new Set([...Object.keys(h),...V?[H]:[]])}),ee});return l.convertFileSrc||(l.convertFileSrc=p=>p),l.getPlatform=k,l.handleError=p=>n.console.error(p),l.isNativePlatform=de,l.isPluginAvailable=fe,l.pluginMethodNoop=(p,h,F)=>Promise.reject(`${F} does not have an implementation of "${h}".`),l.registerPlugin=he,l.Exception=j,l.DEBUG=!!l.DEBUG,l.isLoggingEnabled=!!l.isLoggingEnabled,l.platform=l.getPlatform(),l.isNative=l.isNativePlatform(),l},U=(n=>n.Capacitor=J(n))(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),W=U.registerPlugin;class D{constructor(e){this.listeners={},this.windowListeners={},e&&(console.warn(`Capacitor WebPlugin "${e.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=e)}addListener(e,t){var s=this;this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t);const i=this.windowListeners[e];i&&!i.registered&&this.addWindowListener(i);const m=function(){var P=(0,u.Z)(function*(){return s.removeListener(e,t)});return function(){return P.apply(this,arguments)}}(),l=Promise.resolve({remove:m});return Object.defineProperty(l,"remove",{value:(P=(0,u.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield m()}),function(){return P.apply(this,arguments)})}),l;var P}removeAllListeners(){var e=this;return(0,u.Z)(function*(){e.listeners={};for(const t in e.windowListeners)e.removeWindowListener(e.windowListeners[t]);e.windowListeners={}})()}notifyListeners(e,t){const s=this.listeners[e];s&&s.forEach(c=>c(t))}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,t){this.windowListeners[t]={registered:!1,windowEventName:e,pluginEventName:t,handler:s=>{this.notifyListeners(t,s)}}}unimplemented(e="not implemented"){return new U.Exception(e,r.Unimplemented)}unavailable(e="not available"){return new U.Exception(e,r.Unavailable)}removeListener(e,t){var s=this;return(0,u.Z)(function*(){const c=s.listeners[e];if(!c)return;const i=c.indexOf(t);s.listeners[e].splice(i,1),s.listeners[e].length||s.removeWindowListener(s.windowListeners[e])})()}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}}const z=n=>encodeURIComponent(n).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),a=n=>n.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class b extends D{getCookies(){return(0,u.Z)(function*(){const e=document.cookie,t={};return e.split(";").forEach(s=>{if(s.length<=0)return;let[c,i]=s.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");c=a(c).trim(),i=a(i).trim(),t[c]=i}),t})()}setCookie(e){return(0,u.Z)(function*(){try{const t=z(e.key),s=z(e.value),c=`; expires=${(e.expires||"").replace("expires=","")}`,i=(e.path||"/").replace("path=",""),m=null!=e.url&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${t}=${s||""}${c}; path=${i}; ${m};`}catch(t){return Promise.reject(t)}})()}deleteCookie(e){return(0,u.Z)(function*(){try{document.cookie=`${e.key}=; Max-Age=0`}catch(t){return Promise.reject(t)}})()}clearCookies(){return(0,u.Z)(function*(){try{const e=document.cookie.split(";")||[];for(const t of e)document.cookie=t.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(e){return Promise.reject(e)}})()}clearAllCookies(){var e=this;return(0,u.Z)(function*(){try{yield e.clearCookies()}catch(t){return Promise.reject(t)}})()}}W("CapacitorCookies",{web:()=>new b});const o=function(){var n=(0,u.Z)(function*(e){return new Promise((t,s)=>{const c=new FileReader;c.onload=()=>{const i=c.result;t(i.indexOf(",")>=0?i.split(",")[1]:i)},c.onerror=i=>s(i),c.readAsDataURL(e)})});return function(t){return n.apply(this,arguments)}}(),L=(n,e={})=>{const t=Object.assign({method:n.method||"GET",headers:n.headers},e),c=((n={})=>{const e=Object.keys(n);return Object.keys(n).map(c=>c.toLocaleLowerCase()).reduce((c,i,m)=>(c[i]=n[e[m]],c),{})})(n.headers)["content-type"]||"";if("string"==typeof n.data)t.body=n.data;else if(c.includes("application/x-www-form-urlencoded")){const i=new URLSearchParams;for(const[m,l]of Object.entries(n.data||{}))i.set(m,l);t.body=i.toString()}else if(c.includes("multipart/form-data")||n.data instanceof FormData){const i=new FormData;if(n.data instanceof FormData)n.data.forEach((l,P)=>{i.append(P,l)});else for(const l of Object.keys(n.data))i.append(l,n.data[l]);t.body=i;const m=new Headers(t.headers);m.delete("content-type"),t.headers=m}else(c.includes("application/json")||"object"==typeof n.data)&&(t.body=JSON.stringify(n.data));return t};class T extends D{request(e){return(0,u.Z)(function*(){const t=L(e,e.webFetchExtra),s=((n,e=!0)=>n?Object.entries(n).reduce((s,c)=>{const[i,m]=c;let l,P;return Array.isArray(m)?(P="",m.forEach(g=>{l=e?encodeURIComponent(g):g,P+=`${i}=${l}&`}),P.slice(0,-1)):(l=e?encodeURIComponent(m):m,P=`${i}=${l}`),`${s}&${P}`},"").substr(1):null)(e.params,e.shouldEncodeUrlParams),c=s?`${e.url}?${s}`:e.url,i=yield fetch(c,t),m=i.headers.get("content-type")||"";let P,g,{responseType:l="text"}=i.ok?e:{};switch(m.includes("application/json")&&(l="json"),l){case"arraybuffer":case"blob":g=yield i.blob(),P=yield o(g);break;case"json":P=yield i.json();break;default:P=yield i.text()}const K={};return i.headers.forEach((k,Q)=>{K[Q]=k}),{data:P,headers:K,status:i.status,url:i.url}})()}get(e){var t=this;return(0,u.Z)(function*(){return t.request(Object.assign(Object.assign({},e),{method:"GET"}))})()}post(e){var t=this;return(0,u.Z)(function*(){return t.request(Object.assign(Object.assign({},e),{method:"POST"}))})()}put(e){var t=this;return(0,u.Z)(function*(){return t.request(Object.assign(Object.assign({},e),{method:"PUT"}))})()}patch(e){var t=this;return(0,u.Z)(function*(){return t.request(Object.assign(Object.assign({},e),{method:"PATCH"}))})()}delete(e){var t=this;return(0,u.Z)(function*(){return t.request(Object.assign(Object.assign({},e),{method:"DELETE"}))})()}}W("CapacitorHttp",{web:()=>new T})},5346:(te,M,f)=>{f.d(M,{ez:()=>E,tP:()=>u});var u=function(v){return v.Documents="DOCUMENTS",v.Data="DATA",v.Library="LIBRARY",v.Cache="CACHE",v.External="EXTERNAL",v.ExternalStorage="EXTERNAL_STORAGE",v}(u||{}),E=function(v){return v.UTF8="utf8",v.ASCII="ascii",v.UTF16="utf16",v}(E||{})},9191:(te,M,f)=>{f.r(M),f.d(M,{HomePageModule:()=>z});var u=f(6814),E=f(1929),N=f(95),$=f(899),v=f(5861),I=f(2726);const B=(0,I.fo)("CapacitorVideoPlayer",{web:()=>f.e(4896).then(f.bind(f,4896)).then(a=>new a.CapacitorVideoPlayerWeb)});var r=f(9212),j=f(5346);const G=(0,I.fo)("Filesystem",{web:()=>f.e(4522).then(f.bind(f,4522)).then(a=>new a.FilesystemWeb)}),J=(0,I.fo)("Preferences",{web:()=>f.e(899).then(f.bind(f,1628)).then(a=>new a.PreferencesWeb)});let ne=(()=>{var a;class b{constructor(){this.videos=[],this.VIDEOS_KEY="videos",this.convertBlobToBase64=o=>new Promise((d,C)=>{const L=new FileReader;L.onerror=C,L.onload=()=>{d(L.result)},L.readAsDataURL(o)})}loadVideos(){var o=this;return(0,v.Z)(function*(){const d=yield J.get({key:o.VIDEOS_KEY});return o.videos=d.value?JSON.parse(d.value):[],o.videos})()}storeVideo(o){var d=this;return(0,v.Z)(function*(){const C=(new Date).getTime()+".mp4",L=yield d.convertBlobToBase64(o),T=yield G.writeFile({path:C,data:L,directory:j.tP.Data});return d.videos.unshift(T.uri),J.set({key:d.VIDEOS_KEY,value:JSON.stringify(d.videos)})})()}getVideoUrl(o){return(0,v.Z)(function*(){const d=o.substr(o.lastIndexOf("/")+1);return`data:video/mp4;base64,${(yield G.readFile({path:d,directory:j.tP.Data})).data}`})()}}return(a=b).\u0275fac=function(o){return new(o||a)},a.\u0275prov=r.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),b})();const U=["video"];function W(a,b){if(1&a){const w=r.EpF();r.TgZ(0,"ion-item",9),r.NdJ("click",function(){const C=r.CHM(w).$implicit,L=r.oxw(2);return r.KtG(L.play(C))}),r._uU(1),r.qZA()}if(2&a){const w=b.$implicit;r.xp6(1),r.hij(" ",w," ")}}function re(a,b){if(1&a&&(r.TgZ(0,"ion-list"),r.YNc(1,W,2,1,"ion-item",8),r.qZA()),2&a){const w=r.oxw();r.xp6(1),r.Q6J("ngForOf",w.videos)}}const D=[{path:"",component:(()=>{var a;class b{constructor(o,d){this.videoService=o,this.changeDetector=d,this.isRecording=!1,this.videos=[]}ngAfterViewInit(){var o=this;return(0,v.Z)(function*(){o.videos=yield o.videoService.loadVideos(),o.videoPlayer=B})()}recordVideo(){var o=this;return(0,v.Z)(function*(){const d=yield navigator.mediaDevices.getUserMedia({video:{facingMode:"user"},audio:!0});o.captureElement.nativeElement.srcObject=d,o.mediaRecorder=new MediaRecorder(d,{mimeType:"video/webm"});let L=[];o.mediaRecorder.onstop=function(){var T=(0,v.Z)(function*(ie){const n=new Blob(L,{type:"video/webm"});yield o.videoService.storeVideo(n),o.videos=o.videoService.videos,o.changeDetector.detectChanges()});return function(ie){return T.apply(this,arguments)}}(),o.mediaRecorder.ondataavailable=T=>{T.data&&T.data.size>0&&L.push(T.data)},o.mediaRecorder.start(100),o.isRecording=!0})()}stopRecord(){this.mediaRecorder.stop(),this.mediaRecorder=null,this.captureElement.nativeElement.srcObject=null,this.isRecording=!1}play(o){var d=this;return(0,v.Z)(function*(){const C=yield d.videoService.getVideoUrl(o);yield d.videoPlayer.initPlayer({mode:"fullscreen",url:C,playerId:"fullscreen",componentTag:"app-home"})})()}}return(a=b).\u0275fac=function(o){return new(o||a)(r.Y36(ne),r.Y36(r.sBO))},a.\u0275cmp=r.Xpm({type:a,selectors:[["app-home"]],viewQuery:function(o,d){if(1&o&&r.Gf(U,5),2&o){let C;r.iGM(C=r.CRH())&&(d.captureElement=C.first)}},decls:12,vars:3,consts:[["color","primary"],["autoplay","","playsinline","","muted","",1,"video",3,"hidden"],["video",""],["id","fullscreen","slot","fixed"],[4,"ngIf"],["vertical","bottom","horizontal","center","slot","fixed"],[3,"click"],[3,"name"],["tappable","",3,"click",4,"ngFor","ngForOf"],["tappable","",3,"click"]],template:function(o,d){1&o&&(r.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title"),r._uU(3," Capture Videos "),r.qZA()()(),r.TgZ(4,"ion-content"),r._UZ(5,"video",1,2)(7,"div",3),r.YNc(8,re,2,1,"ion-list",4),r.TgZ(9,"ion-fab",5)(10,"ion-fab-button",6),r.NdJ("click",function(){return d.isRecording?d.stopRecord():d.recordVideo()}),r._UZ(11,"ion-icon",7),r.qZA()()()),2&o&&(r.xp6(5),r.Q6J("hidden",!d.isRecording),r.xp6(3),r.Q6J("ngIf",!d.isRecording),r.xp6(3),r.Q6J("name",d.isRecording?"stop":"videocam"))},dependencies:[u.sg,u.O5,E.W2,E.IJ,E.W4,E.Gu,E.gu,E.Ie,E.q_,E.wd,E.sr],styles:["#container[_ngcontent-%COMP%]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:20px;line-height:26px}#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}"]}),b})()}];let oe=(()=>{var a;class b{}return(a=b).\u0275fac=function(o){return new(o||a)},a.\u0275mod=r.oAB({type:a}),a.\u0275inj=r.cJS({imports:[$.Bz.forChild(D),$.Bz]}),b})(),z=(()=>{var a;class b{}return(a=b).\u0275fac=function(o){return new(o||a)},a.\u0275mod=r.oAB({type:a}),a.\u0275inj=r.cJS({imports:[u.ez,N.u5,E.Pc,oe]}),b})()}}]);